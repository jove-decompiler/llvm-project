# RUN: not llc -mtriple=tricore -run-pass none -o - %s 2>&1 | FileCheck %s --check-prefix=ERROR

--- |
  @var = global i32 42

  define void @target_flags() {
  entry:
    ret void
  }
...

---
name:            target_flags
body: |
  bb.0.entry:
    ; ERROR: [[@LINE+1]]:53: use of undefined target flag 'tricore-sm'
    %0:addrregs = MOVHA_ac target-flags(tricore-hi, tricore-sm) @var
    $a2 = COPY %0
    RET implicit $a11, implicit $a2
...
