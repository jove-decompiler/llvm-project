# RUN: llc -O0 -mtriple=tricore -global-isel -run-pass=regbankselect -verify-machineinstrs %s -o - | FileCheck %s

---

name:            test_add
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_add
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[ADD:%[0-9]+]]:dataregbank(s32) = G_ADD [[COPY]], [[COPY]]
    %0(s32) = COPY $d4
    %1(s32) = G_ADD %0, %0
...

---
name:            test_add_with_carry
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
  - { id: 2, class: _ }
  - { id: 3, class: _ }
  - { id: 4, class: _ }
  - { id: 5, class: _ }
  - { id: 6, class: _ }
  - { id: 7, class: _ }
  - { id: 8, class: _ }
  - { id: 9, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_add_with_carry
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[COPY1:%[0-9]+]]:dataregbank(s32) = COPY $d5
    ; CHECK: [[ADD:%[0-9]+]]:dataregbank(s32), [[CARRY:%[0-9]+]]:dataregbank(s1) = G_UADDO [[COPY]], [[COPY]]
    ; CHECK: [[ADD1:%[0-9]+]]:dataregbank(s32), [[CARRY1:%[0-9]+]]:dataregbank(s1) = G_UADDE [[COPY1]], [[COPY1]], [[CARRY]]
    ; CHECK: $d2 = COPY [[ADD1]](s32)
    %0(s32) = COPY $d4
    %1(s32) = COPY $d5
    %2(s32), %3(s1) = G_UADDO %0, %0
    %4(s32), %5(s1) = G_UADDE %1, %1, %3
    $d2 = COPY %4(s32)
...

---
name:            test_sub
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_sub
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[SUB:%[0-9]+]]:dataregbank(s32) = G_SUB [[COPY]], [[COPY]]
    %0(s32) = COPY $d4
    %1(s32) = G_SUB %0, %0
...

---
name:            test_sub_with_carry
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
  - { id: 2, class: _ }
  - { id: 3, class: _ }
  - { id: 4, class: _ }
  - { id: 5, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_sub_with_carry
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[COPY1:%[0-9]+]]:dataregbank(s32) = COPY $d5
    ; CHECK: [[SUB:%[0-9]+]]:dataregbank(s32), [[CARRY:%[0-9]+]]:dataregbank(s1) = G_USUBO [[COPY]], [[COPY]]
    ; CHECK: [[SUB1:%[0-9]+]]:dataregbank(s32), [[CARRY1:%[0-9]+]]:dataregbank(s1) = G_USUBE [[COPY1]], [[COPY1]], [[CARRY]]
    ; CHECK: $d2 = COPY [[SUB1]](s32)
    %0(s32) = COPY $d4
    %1(s32) = COPY $d5
    %2(s32), %3(s1) = G_USUBO %0, %0
    %4(s32), %5(s1) = G_USUBE %1, %1, %3
    $d2 = COPY %4(s32)
...

---
name:            test_and
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_and
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[AND:%[0-9]+]]:dataregbank(s32) = G_AND [[COPY]], [[COPY]]
    %0(s32) = COPY $d4
    %1(s32) = G_AND %0, %0
...

---
name:            test_or
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_or
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[OR:%[0-9]+]]:dataregbank(s32) = G_OR [[COPY]], [[COPY]]
    %0(s32) = COPY $d4
    %1(s32) = G_OR %0, %0
...

---
name:            test_xor
legalized:       true
registers:
  - { id: 0, class: _ }
  - { id: 1, class: _ }
body: |
  bb.0:
    ; CHECK-LABEL: name: test_xor
    ; CHECK: [[COPY:%[0-9]+]]:dataregbank(s32) = COPY $d4
    ; CHECK: [[XOR:%[0-9]+]]:dataregbank(s32) = G_XOR [[COPY]], [[COPY]]
    %0(s32) = COPY $d4
    %1(s32) = G_XOR %0, %0
...
