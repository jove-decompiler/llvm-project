# RUN: not --crash llc -O0 -mtriple=tricore -global-isel -run-pass=legalizer -verify-machineinstrs %s -o - 2>&1 | FileCheck %s

# Currently the legalizer does not support lowering G_EXTRACT with pointer.

---
name:            extract_s8_p0
body:             |
  bb.0:
    liveins: $d4, $d5

    ; CHECK: LLVM ERROR: unable to legalize instruction: %1:_(s8) = G_EXTRACT %0:_(p0), 0 (in function: extract_s8_p0)
    %0:_(p0) = COPY $a4
    %1:_(s8) = G_EXTRACT %0, 0
    %2:_(s32) = G_ANYEXT %1(s8)
    $d4 = COPY %2
...
