# RUN: not --crash llc -mtriple=tricore -mcpu=tc2xx -run-pass=legalizer -verify-machineinstrs %s -o - 2>&1 | FileCheck %s
# XFAIL: *

# The "lower" action is now supported, but we don't support the necessary
# instructions yet.

---
name: test_fptrunc_f64_to_f16
body: |
  bb.0:
    ; CHECK-NOT: LLVM ERROR: unable to legalize instruction: %34:_(s32) = G_SMIN %32:_, %33:_ (in function: test_fptrunc_f64_to_f16)
    %0:_(s64) = COPY $e4
    %1:_(s16) = G_FPTRUNC %0
    %2:_(s32) = G_ANYEXT %1
    $d2 = COPY %2
...
