# RUN: llc -mtriple=tricore -mcpu=tc2xx -run-pass=legalizer -verify-machineinstrs %s -o - 2>&1 || true | FileCheck %s
# XFAIL: *

# To legalize this pass, we need to have G_EXTRACT legalized, which we do not
# support yet

---
name:            insert_s64_s48
body:             |
  bb.0:
    liveins: $e4, $e6

    ; CHECK-NOT: LLVM ERROR: unable to legalize instruction: {{%[0-9]+}}:_(s32) = G_EXTRACT {{%[0-9]+}}:_(s48), 0 (in function: insert_s64_s48)
    %0:_(s64) = COPY $e4
    %1:_(s64) = COPY $e6
    %2:_(s48) = G_TRUNC %1(s64)
    %3:_(s64) = G_INSERT %0, %2, 0
    $e4 = COPY %3
...
