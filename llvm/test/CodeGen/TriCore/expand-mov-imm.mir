# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=tricore -run-pass=tricore-expand-pseudo -o - %s | FileCheck %s

---
name:           test_i32
alignment:       8
tracksRegLiveness: true
machineFunctionInfo: {}
body:             |
  bb.0:

    ; CHECK-LABEL: name: test_i32
    ; CHECK: MOVU_dc $d0, 32767
    ; CHECK: ADDIH_ddc $d0, $d0, 65535, implicit-def $psw
    ; CHECK: MOV_dc $d1, -32768
    ; CHECK: MOV_dc $d2, 32767
    ; CHECK: MOVU_dc $d3, 32768
    ; CHECK: MOVU_dc $d4, 65535
    ; CHECK: MOVH_dc $d5, 1
    ; CHECK: MOVU_dc $d6, 1
    ; CHECK: ADDIH_ddc $d6, $d6, 1, implicit-def $psw
    ; CHECK: MOV_dc $d7, 0
    ; CHECK: MOVH_dc $d8, 3
    ; CHECK: SH_ddc $d8, $d8, -1
    ; CHECK: MOVU_dc $d9, 65528
    ; CHECK: SH_ddc $d9, $d9, 1
    ; CHECK: MOV_dc $d10, -1
    ; CHECK: SH_ddc $d10, $d10, -15
    ; CHECK: MOVH_dc $d11, 65535
    ; CHECK: SH_ddc $d11, $d11, -4
    ; CHECK: MOVU_dc $d12, 65535
    ; CHECK: SH_ddc $d12, $d12, 1
    ; CHECK: MOV_dc $d13, -32768
    $d0 = MOVImmDataReg -32769
    $d1 = MOVImmDataReg -32768
    $d2 = MOVImmDataReg 32767
    $d3 = MOVImmDataReg 32768
    $d4 = MOVImmDataReg 65535
    $d5 = MOVImmDataReg 65536
    $d6 = MOVImmDataReg 65537
    $d7 = MOVImmDataReg 0
    $d8 = MOVImmDataReg 98304
    $d9 = MOVImmDataReg 131056
  ; Edge case: Trailing Zeros: 0 Leading Zeros: 15
    $d10 = MOVImmDataReg 131071
    $d11 = MOVImmDataReg 268431360
    $d12 = MOVImmDataReg 131070
    $d13 = MOVImmDataReg 4294934528
...

---
name:           test_i64
alignment:       8
tracksRegLiveness: true
machineFunctionInfo: {}
body:             |
  bb.0:

    ; CHECK-LABEL: name: test_i64
    ; CHECK: MOV_ec $e0, -32768
    ; CHECK: MOVU_dc $d2, 32767
    ; CHECK: ADDIH_ddc $d2, $d2, 65535, implicit-def $psw
    ; CHECK: MOV_dc $d3, -1
    $e0 = MOVImmExtDataReg -32768
    $e2 = MOVImmExtDataReg -32769
...

---
name:           test_p0
alignment:       8
tracksRegLiveness: true
machineFunctionInfo: {}
body:             |
  bb.0:

    ; CHECK-LABEL: name: test_p0
    ; CHECK: MOVHA_ac $a0, 16
    ; CHECK: LEA_aac $a0, $a0, 65535
    ; CHECK: LEA_ac $a1, 15
    ; CHECK: LEA_ac $a2, 16
    $a0 = MOVImmAddrReg 1048575
  ; Make sure we do not select MOVA_16_ac here, since that is the job of our
  ; compression backend
    $a1 = MOVImmAddrReg 15
    $a2 = MOVImmAddrReg 16
...
